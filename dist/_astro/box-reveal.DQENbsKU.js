import{j as h}from"./jsx-runtime.CRkqtJS5.js";import{r as f}from"./index.B52nOzfP.js";import{d as E,s as g,u as I,b as w,r as x,m as v}from"./proxy.erd0amc2.js";function V(e){e.values.forEach(t=>t.stop())}function p(e,t){[...t].reverse().forEach(r=>{const n=e.getVariant(r);n&&g(e,n),e.variantChildren&&e.variantChildren.forEach(o=>{p(o,t)})})}function C(e,t){if(Array.isArray(t))return p(e,t);if(typeof t=="string")return p(e,[t]);g(e,t)}function y(){const e=new Set,t={subscribe(s){return e.add(s),()=>void e.delete(s)},start(s,r){const n=[];return e.forEach(o=>{n.push(E(o,s,{transitionOverride:r}))}),Promise.all(n)},set(s){return e.forEach(r=>{C(r,s)})},stop(){e.forEach(s=>{V(s)})},mount(){return()=>{t.stop()}}};return t}function j(){const e=I(y);return w(e.mount,[]),e}const b=j,A={some:0,all:1};function R(e,t,{root:s,margin:r,amount:n="some"}={}){const o=x(e),i=new WeakMap,u=l=>{l.forEach(c=>{const d=i.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const m=t(c);typeof m=="function"?i.set(c.target,m):a.unobserve(c.target)}else d&&(d(c),i.delete(c.target))})},a=new IntersectionObserver(u,{root:s,rootMargin:r,threshold:typeof n=="number"?n:A[n]});return o.forEach(l=>a.observe(l)),()=>a.disconnect()}function B(e,{root:t,margin:s,amount:r,once:n=!1}={}){const[o,i]=f.useState(!1);return f.useEffect(()=>{if(!e.current||n&&o)return;const u=()=>(i(!0),n?void 0:()=>i(!1)),a={root:t&&t.current||void 0,margin:s,amount:r};return R(e.current,u,a)},[t,e,s,n,r]),o}const k=({children:e,width:t="fit-content",boxColor:s,duration:r,delay:n=0})=>{const o=b(),i=b(),u=f.useRef(null),a=B(u,{once:!0});return f.useEffect(()=>{a?(i.start("visible"),o.start("visible")):(i.start("hidden"),o.start("hidden"))},[a,o,i]),h.jsxs("div",{ref:u,style:{position:"relative",width:t,overflow:"hidden"},children:[h.jsx(v.div,{variants:{hidden:{opacity:0,y:75},visible:{opacity:1,y:0}},initial:"hidden",animate:o,transition:{duration:r||.5,delay:n+.25},style:{height:"100%"},children:e}),h.jsx(v.div,{variants:{hidden:{left:0},visible:{left:"100%"}},initial:"hidden",animate:i,transition:{duration:r||.5,ease:"easeIn",delay:n},className:s,style:{position:"absolute",top:4,bottom:4,left:0,right:0,zIndex:20}})]})};export{k as default};
